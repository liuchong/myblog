{"componentChunkName":"component---src-templates-blog-post-js","path":"/write-a-third-party-cargo-subcommand/","result":{"data":{"site":{"siteMetadata":{"title":"大大大大大"}},"markdownRemark":{"id":"b001b9a6-7af7-5896-a28f-e6b4c2a5c004","excerpt":"写项目的时候，有时候会写一些较长的 shell 命令，反复输入不方便，也容易丢失，就想着把它放到配置文件里。 阅读了 cargo 官方 wiki 阅读了 cargo 官方 reference 观察目录 ~/.cargo/bin/ 下面的文件，发现一些比如 racer、rls、rustfmt…","html":"<p>写项目的时候，有时候会写一些较长的 shell 命令，反复输入不方便，也容易丢失，就想着把它放到配置文件里。</p>\n<p>阅读了 cargo 官方 <a href=\"https://github.com/rust-lang/cargo/wiki/Third-party-cargo-subcommands\">wiki</a></p>\n<p>阅读了 cargo 官方 <a href=\"https://doc.rust-lang.org/cargo/reference/external-tools.html\">reference</a></p>\n<p>观察目录 ~/.cargo/bin/ 下面的文件，发现一些比如 racer、rls、rustfmt 等命令，是可以直接运行的，还有一些 cargo- 开头的命令，比如 cargo-clippy、cargo-fmt，就是运行 cargo clippy、cargo fmt 等命令时执行的程序。</p>\n<p>试一下，</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd ~/.cargo/bin/\nln -s racer cargo-racer\ncargo racer</code></pre></div>\n<p>输出比较不是很正常，看上去是把字符串“racer”当做参数传给了命令 racer，不过也对刚才的调查做了简单证实。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">error: Found argument 'racer' which wasn't expected, or isn't valid in this context\n\nUSAGE:\n...</code></pre></div>\n<h4>编码</h4>\n<ol>\n<li>创建项目 cargo new cargo-x</li>\n<li>写代码</li>\n<li>发布项目 cargo publish</li>\n</ol>\n<h4>仓库</h4>\n<p>写了一个非常简单的版本，代码在\n<a href=\"https://github.com/liuchong/cargo-x\" target=\"_blank\"><img src=\"/images/bomb.png\" alt=\"@liuchong/cargo-x\" width=\"32\" height=\"32\" align=\"bottom\"/></a></p>","frontmatter":{"title":"写一个第三方 cargo 子命令","date":"December 18, 2018","description":"写一个 cargo 子命令，把 shell 命令存到配置文件里面"}},"previous":{"fields":{"slug":"/ngrok-tunnels-example/"},"frontmatter":{"title":"ngrok tunnels example"}},"next":{"fields":{"slug":"/rewrite-blockchain-tutorial-in-rust/"},"frontmatter":{"title":"rewrite blockchain tutorial in rust"}}},"pageContext":{"id":"b001b9a6-7af7-5896-a28f-e6b4c2a5c004","previousPostId":"68a5dd23-6c48-5165-af6f-61977b112a2d","nextPostId":"1288c22c-8eb5-5a74-8468-59ec3311c133"}},"staticQueryHashes":["2428348466","2841359383"],"slicesMap":{}}